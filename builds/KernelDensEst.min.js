!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.KernelDensEst=r()}(this,function(){"use strict";function e(){this.curKernels=[]}return KernalDensEst.prototype.kernels={GaussLine:function(e,r,t){e=e||1,r=o(r),t=t||[0,0];var n=1/(e*Math.sqrt(2*Math.PI));function o(e){if(Array.isArray(e)){let r=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/r,e[1]/r]}return isNaN(e)?[1,0]:[Math.cos(e),Math.sin(e)]}this.eval=function(o,l){return n*Math.exp(-Math.pow(r[1]*(o-t[0])+r[0]*(l-t[1]),2)/(2*Math.pow(e,2)))},this.setSig=function(r){e=r},this.setDir=function(e){r=o(e)},this.setOr=function(e){t=e}}},e.prototype.addKernel=function(e){return registeredKernels.push(e)},e.prototype.eval=function(e){if(0==curKernels.length)return console.log("no kernels registered"),!1;for(var r=0,t=0;t<curKernels.length;t++)r+=curKernels[t].eval(e);return r},e.prototype.evalDomain=function(e,r){if(0==curKernels.length)return console.log("no kernels registered"),!1;var t=[];t.length=r,t.fill(0);var n=(e[1]-e[0])/r;for(let e=0;e<r[0];e++)for(var o=0;o<curKernels.length;o++)t[e]+=curKernels[o].eval(e*n);return t},e.prototype.evalDomain2D=function(e,r){if(0==curKernels.length)return console.log("no kernels registered"),!1;var t=[];t.length=r[0];for(let e=0;e<r[0];e++)t[e]=[],t[e].length=r[1],t[e].fill(0);var n=(e[1][0]-e[0][0])/r[0],o=(e[1][1]-e[0][1])/r[1];for(let e=0;e<r[0];e++)for(let s=0;s<r[1];s++)for(var l=0;l<curKernels.length;l++)t[e][s]+=curKernels[l].eval(e*n,s*o);return t},e});
